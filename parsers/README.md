# Parsers Directory

Эта папка содержит все файлы, связанные с парсингом данных торговых центров.

## Содержимое:

### Парсеры:
- `paveletskaya_parser.py` - Парсер для ТРЦ "Павелецкая Плаза"
- `template_parser.py` - **Шаблон для создания новых парсеров**

### Утилиты:
- `integrate_to_malls.py` - **Скрипт для интеграции результатов в malls.json**

### Исходные HTML файлы:
- `город лефортово.txt` - HTML данные ТРЦ "Город" (Лефортово)
- `павелецкая плаза.txt` - HTML данные ТРЦ "Павелецкая Плаза"

### Результаты парсинга:
- `paveletskaya_stores.json` - Результат парсинга Павелецкой Плазы

## Использование:

### Для создания нового парсера:

1. Скопируйте `template_parser.py` и переименуйте под ваш ТЦ
2. Настройте селекторы HTML под конкретный сайт
3. Укажите параметры ТЦ (название, адрес, ссылка на карту)
4. Запустите парсер для получения структурированных данных
5. Интегрируйте результаты в основной `malls.json`

### Для запуска существующего парсера:

```bash
cd parsers
python paveletskaya_parser.py
```

### Для интеграции результатов в malls.json:

```bash
cd parsers
python integrate_to_malls.py paveletskaya_stores.json Москва
```

Или просто:
```bash
cd parsers
python integrate_to_malls.py paveletskaya_stores.json
```

## Структура данных:

Все парсеры должны возвращать данные в формате:
```json
{
  "Название ТЦ": {
    "address": "Адрес",
    "map_link": "Ссылка на карту",
    "underground": "Информация о метро",
    "stores": {
      "Название магазина": номер_этажа
    }
  }
}
```

## Примечания:

- Папка `parsers/` исключена из Git (.gitignore) из-за больших HTML файлов
- Все временные файлы парсинга должны оставаться в этой папке
- Основной `malls.json` в корне проекта содержит финальные данные
- Скрипт `integrate_to_malls.py` автоматически проверяет дубликаты и запрашивает подтверждение 